@inherits LayoutComponentBase
@inject IJSRuntime JS

<PageTitle>TaskFlow - Modern Todo Management</PageTitle>

<div class="app-container">
    <header class="app-header">
        <div class="header-content">
            <button class="sidebar-toggle" @onclick="ToggleMobileSidebar" aria-label="Toggle navigation">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="6" x2="21" y2="6"/>
                    <line x1="3" y1="12" x2="21" y2="12"/>
                    <line x1="3" y1="18" x2="21" y2="18"/>
                </svg>
            </button>
            <div class="brand">
                <div class="brand-icon">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="3" y="3" width="18" height="18" rx="4" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 12L11 15L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="brand-name">TaskFlow</span>
            </div>
            <div class="header-tagline">
                Organize your work, amplify your productivity
            </div>
        </div>
    </header>
    
    <div class="app-body">
        <aside class="sidebar @(_isCollapsed ? "collapsed" : "") @(_isMobileOpen ? "mobile-open" : "")">
            <NavMenu IsCollapsed="@_isCollapsed" OnToggleSidebar="ToggleCollapse" />
        </aside>
        
        @if (_isMobileOpen)
        {
            <div class="sidebar-overlay" @onclick="CloseMobileSidebar"></div>
        }
        
        <main class="app-main">
            <div class="main-content">
                @Body
            </div>
        </main>
    </div>
</div>

@code {
    private bool _isCollapsed;
    private bool _isMobileOpen;

    private void ToggleCollapse()
    {
        _isCollapsed = !_isCollapsed;
    }

    private void ToggleMobileSidebar()
    {
        _isMobileOpen = !_isMobileOpen;
    }

    private void CloseMobileSidebar()
    {
        _isMobileOpen = false;
    }
}
